{% extends 'layout.html' %}

{% block content %}
<main role="main" class="container full-height flex-row flex-grow-1">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/">Accueil</a></li>
        <li class="breadcrumb-item"><a href="/posts">Articles</a></li>
        <li class="breadcrumb-item"><a href="/posts/{{post_id}}">Retour Ã  l'article</a>
        </li>
        <li class="breadcrumb-item active">Commentaires</li>
    </ol>
    <div id="comments" class="container shadow-lg p-3 bg-white rounded">
        <div class="d-flex justify-content-between comment-meta-container">
            <h3 class="font-weight-bold"><i class="far fa-comments"></i> Commentaires</h3>
        </div>
        {% for comment in comments %}
        <div class="shadow p-3 mb-3 bg-white rounded comments-container">
            <div class="d-flex justify-content-between comment-meta-container">
                <span><a href="/users/{{comment.author.id}}">{{ comment.author.username }}</a><small> <i>
                            {{ comment.created_at.strftime("le %d %B %Y")}}</i></small></span>
                <div class="btn-group">
                    <a role="button" href="/posts/{{post_id}}/comments/{{comments[0]['id']}}"
                        class="btn btn-secondary btn-sm"><i class="fas fa-external-link-alt"></i></a>
                </div>
            </div>
            <p class="comment-body">{{ comment.body }}</p>
        </div>
        {% endfor %}
        <span>Rendez-vous sur la <a href="/posts/{{post_id}}">page de l'article</a> pour
            ajouter/modifier/supprimer un commentaire.</span>
    </div>
    </div>
</main>

{% endblock %}